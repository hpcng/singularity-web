<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Singularity Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Singularity Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Singularity" href="/opensearch.xml"><title data-react-helmet="true">Admin Quick Start | Singularity</title><meta data-react-helmet="true" property="og:url" content="https://singularity.hpcng.org/docs-admin/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-docs-admin-current"><meta data-react-helmet="true" property="og:title" content="Admin Quick Start | Singularity"><meta data-react-helmet="true" name="description" content="This quick start gives an overview of installation of Singularity from"><meta data-react-helmet="true" property="og:description" content="This quick start gives an overview of installation of Singularity from"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://singularity.hpcng.org/docs-admin/"><link data-react-helmet="true" rel="alternate" href="https://singularity.hpcng.org/docs-admin/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://singularity.hpcng.org/docs-admin/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.df3ffb68.css">
<link rel="preload" href="/assets/js/runtime~main.8b668661.js" as="script">
<link rel="preload" href="/assets/js/main.d90a00b9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Singularity Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Singularity Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Singularity</strong></a><a class="navbar__item navbar__link" href="/docs-user/">User Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-admin/">Administrator Documentation</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hpcng/singularity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Singularity Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Singularity Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Singularity</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs-user/">User Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs-admin/">Administrator Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/news">News</a></li><li class="menu__list-item"><a href="https://github.com/hpcng/singularity" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs-admin/">Admin Quick Start</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-admin/installation">Installing Singularity</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-admin/configfiles">Configuration Files</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-admin/user_namespace">User Namespaces &amp; Fakeroot</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-admin/security">Container Security</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-admin/appendix">Appendix</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Admin Quick Start</h1></header><div class="markdown"><p>This quick start gives an overview of installation of Singularity from
source, a description of the architecture of Singularity, and
pointers to configuration files. More information, including alternate
installation options and detailed configuration options can be found
later in this guide.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="architecture-of-singularity"></a>Architecture of Singularity<a class="hash-link" href="#architecture-of-singularity" title="Direct link to heading">#</a></h2><p>Singularity is designed to allow containers to be executed as if they
were native programs or scripts on a host system. No daemon is
required to build or run containers, and the security model is compatible
with shared systems.</p><p>As a result, integration with clusters and schedulers such as Univa
Grid Engine, Torque, SLURM, SGE, and many others is as simple as
running any other command. All standard input, output, errors, pipes,
IPC, and other communication pathways used by locally running programs
are synchronized with the applications running locally within the
container.</p><p>Singularity favors an &#x27;integration over isolation&#x27; approach to
containers. By default only the mount namespace is isolated for
containers, so that they have their own filesystem view. Access to
hardware such as GPUs, high speed networks, and shared filesystems is
easy and does not require special configuration. User home
directories, <code>/tmp</code> space, and installation specific mounts make it
simple for users to benefit from the reproducibility of containerized
applications without major changs to their existing workflows. Where
more complete isolation is important, Singularity can use additional
Linux namespaces and other security and resource limits to accomplish
this.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="singularity-security"></a>Singularity Security<a class="hash-link" href="#singularity-security" title="Direct link to heading">#</a></h2><p>Singularity uses a number of strategies to provide safety and
ease-of-use on both single-user and shared systems. Notable security
features include:</p><ul><li>The user inside a container is the same as the user who ran the
container. This means access to files and devices from the
container is easily controlled with standard POSIX permissions.</li><li>Container filesystems are mounted <code>nosuid</code> and container
applications run with the <code>PR_NO_NEW_PRIVS</code> flag set. This means
that applications in a container cannot gain additional
privileges. A regular user cannot <code>sudo</code> or otherwise gain root
privilege on the host via a container.</li><li>The Singularity Image Format (SIF) supports encryption of containers,
as well as cryptographic signing and verification of their content.</li><li>SIF containers are immutable and their payload is run directly,
without extraction to disk. This means that the container can
always be verified, even at runtime, and encrypted content is not
exposed on disk.</li><li>Restrictions can be configured to limit the ownership, location, and
cryptographic signatures of containers that are permitted to be run.</li></ul><p>To support the SIF image format, automated networking setup etc., and
older Linux distributions without user namespace support, Singularity
runs small amounts of privileged container setup code via a
<code>starter-setuid</code> binary. This is a &#x27;setuid root&#x27; binary, so that
Singularity can perform filesystem loop mounts and other operations
that need privilege. The setuid flow is the default mode of operation,
but <a href="/docs-admin/install-nonsetuid">can be disabled</a> on build, or in the
<code>singularity.conf</code> configuration file if required.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Running Singularity in non-setuid mode requires unprivileged user
namespace support in the operating system kernel and does not
support all features, most notably direct mounts of SIF
images. This impacts integrity/security guarantees of containers at
runtime.</p><p>See the <a href="/docs-admin/install-nonsetuid">non-setuid installation section</a> for further
detail on how to install singularity to run in non-setuid mode.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="installation-from-source"></a>Installation from Source<a class="hash-link" href="#installation-from-source" title="Direct link to heading">#</a></h2><p>Singularity Community Edition can be installed from source directly,
or by building an RPM package from the source. Various Linux
distributions also package Singularity, but their packages may not be
up-to-date with the upstream version on GitHub.</p><p>To install Singularity directly from source, follow the procedure
below. Other methods are discussed in the <a href="/docs-admin/installation">Installation</a> section.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This quick-start that you will install as <code>root</code> using
<code>sudo</code>, so that Singularity uses the default <code>setuid</code>
workflow, and all features are available. See the <a href="/docs-admin/install-nonsetuid">non-setuid
installation</a> section of this guide for detail
of how to install as a non-root user, and how this affects the
functionality of Singularity.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-dependencies"></a>Install Dependencies<a class="hash-link" href="#install-dependencies" title="Direct link to heading">#</a></h3><p>On Red Hat Enterprise Linux or CentOS install the following dependencies:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> yum update -y </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> yum groupinstall -y </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Development Tools&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     openssl-devel </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     libuuid-devel </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     libseccomp-devel </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     squashfs-tools </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     cryptsetup</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>On Ubuntu or Debian install the following dependencies:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> update </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    build-essential </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uuid-dev </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    libgpgme-dev </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    squashfs-tools </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    libseccomp-dev </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pkg-config </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cryptsetup-bin</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-go"></a>Install Go<a class="hash-link" href="#install-go" title="Direct link to heading">#</a></h3><p>Singularity v3 is written primarily in Go, and you will need Go 1.13
or above installed to compile it from source. Versions of Go packaged
by your distribution may not be new enough to build Singularity.</p><p>The method below is one of several ways to <a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer">install and configure Go</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you have previously installed Go from a download, rather than an
operating system package, you should remove your <code>go</code> directory,
e.g. <code>rm -r /usr/local/go</code> before installing a newer
version. Extracting a new version of Go over an existing
installation can lead to errors when building Go programs, as it
may leave old files, which have been removed or replaced in newer
versions.</p></div></div><p>Visit the <a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">Go download page</a> and pick a package
archive to download. Copy the link address and download with wget.  Then extract
the archive to <code>/usr/local</code> (or use other instructions on go installation
page).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1.14</span><span class="token plain">.12 </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">OS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">linux </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ARCH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">amd64 </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://dl.google.com/go/go</span><span class="token variable" style="color:rgb(191, 199, 213)">$VERSION</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token variable" style="color:rgb(191, 199, 213)">$OS</span><span class="token plain">-</span><span class="token variable" style="color:rgb(191, 199, 213)">$ARCH</span><span class="token plain">.tar.gz </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -C /usr/local -xzvf go</span><span class="token variable" style="color:rgb(191, 199, 213)">$VERSION</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token variable" style="color:rgb(191, 199, 213)">$OS</span><span class="token plain">-</span><span class="token variable" style="color:rgb(191, 199, 213)">$ARCH</span><span class="token plain">.tar.gz </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> go</span><span class="token variable" style="color:rgb(191, 199, 213)">$VERSION</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token variable" style="color:rgb(191, 199, 213)">$OS</span><span class="token plain">-</span><span class="token variable" style="color:rgb(191, 199, 213)">$ARCH</span><span class="token plain">.tar.gz</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Then, set up your environment for Go.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;export GOPATH=</span><span class="token string variable" style="color:rgb(191, 199, 213)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token string variable" style="color:rgb(191, 199, 213)">}</span><span class="token string" style="color:rgb(195, 232, 141)">/go&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> ~/.bashrc </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;export PATH=/usr/local/go/bin:</span><span class="token string variable" style="color:rgb(191, 199, 213)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token string variable" style="color:rgb(191, 199, 213)">}</span><span class="token string" style="color:rgb(195, 232, 141)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">${GOPATH}</span><span class="token string" style="color:rgb(195, 232, 141)">/bin&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> ~/.bashrc </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> ~/.bashrc</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="download-singularity-from-a-github-release"></a>Download Singularity from a GitHub release<a class="hash-link" href="#download-singularity-from-a-github-release" title="Direct link to heading">#</a></h3><p>You can download Singularity from one of the releases. To see a full list, visit
<a href="https://github.com/hpcng/singularity/releases" target="_blank" rel="noopener noreferrer">the GitHub release page</a>.
After deciding on a release to install, you can run the following commands to
proceed with the installation.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">InstallationVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># adjust this as necessary \</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://github.com/hpcng/singularity/releases/download/v</span><span class="token variable" style="color:rgb(191, 199, 213)">${VERSION}</span><span class="token plain">/singularity-</span><span class="token variable" style="color:rgb(191, 199, 213)">${VERSION}</span><span class="token plain">.tar.gz </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -xzf singularity-</span><span class="token variable" style="color:rgb(191, 199, 213)">${VERSION}</span><span class="token plain">.tar.gz </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> singularity</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compile--install-singularity"></a>Compile &amp; Install Singularity<a class="hash-link" href="#compile--install-singularity" title="Direct link to heading">#</a></h3><p>Singularity uses a custom build system called <code>makeit</code>.  <code>mconfig</code> is called
to generate a <code>Makefile</code> and then <code>make</code> is used to compile and install.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./mconfig </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C ./builddir </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C ./builddir </span><span class="token function" style="color:rgb(130, 170, 255)">install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>By default Singularity will be installed in the <code>/usr/local</code> directory
hierarchy. You can specify a custom directory with the <code>--prefix</code> option, to
<code>mconfig</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./mconfig --prefix</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/opt/singularity</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This option can be useful if you want to install multiple versions of
Singularity, install a personal version of Singularity on a shared system, or if
you want to remove Singularity easily after installing it.</p><p>For a full list of <code>mconfig</code> options, run <code>mconfig --help</code>.  Here
are some of the most common options that you may need to use when
building Singularity from source.</p><ul><li><p><code>--sysconfdir</code>: Install read-only config files in sysconfdir.
This option is important if you need the <code>singularity.conf</code> file
or other configuration files in a custom location.</p></li><li><p><code>--localstatedir</code>: Set the state directory where containers are
mounted. This is a particularly important option for administrators
installing Singularity on a shared file system.  The
<code>--localstatedir</code> should be set to a directory that is present on
each individual node.</p></li><li><p><code>-b</code>: Build Singularity in a given directory. By default this is
<code>./builddir</code>.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration"></a>Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><p>Singularity is configured using files under <code>etc/singularity</code> in
your <code>--prefix</code>, or <code>--syconfdir</code> if you used that option with
<code>mconfig</code>. In a default installation from source without a
<code>--prefix</code> set you will find them under
<code>/usr/local/etc/singularity</code>.</p><p>You can edit these files directly, or using the <code>singularity config
global</code> command as the root user to manage them.</p><p><code>singularity.conf</code> contains the majority of options controlling the
runtime behaviour of Singularity. Additional files control security,
network, and resource configuration. Head over to the
<a href="/docs-admin/singularity_configfiles">Configuration files</a> section where the
files and configuration options are discussed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-singularity"></a>Test Singularity<a class="hash-link" href="#test-singularity" title="Direct link to heading">#</a></h2><p>You can run a quick test of Singularity using a container in the
Sylabs Container Library:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ singularity </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> library://alpine </span><span class="token function" style="color:rgb(130, 170, 255)">cat</span><span class="token plain"> /etc/alpine-release</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">3.9</span><span class="token plain">.2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See the <a href="/user-docs">user guide</a> for more information about how to use Singularity.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hpcng/singularity-web/edit/main/docs-admin/admin_quickstart.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs-admin/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installing Singularity Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture-of-singularity" class="table-of-contents__link">Architecture of Singularity</a></li><li><a href="#singularity-security" class="table-of-contents__link">Singularity Security</a></li><li><a href="#installation-from-source" class="table-of-contents__link">Installation from Source</a><ul><li><a href="#install-dependencies" class="table-of-contents__link">Install Dependencies</a></li><li><a href="#install-go" class="table-of-contents__link">Install Go</a></li><li><a href="#download-singularity-from-a-github-release" class="table-of-contents__link">Download Singularity from a GitHub release</a></li><li><a href="#compile--install-singularity" class="table-of-contents__link">Compile &amp; Install Singularity</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#test-singularity" class="table-of-contents__link">Test Singularity</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs-user">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/hpcng/shared_invite/zt-ll5c3ofb-XhvMPbXUhTVrHlutQz2jbA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://groups.google.com/a/lbl.gov/g/singularity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/hpcng/singularity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HPCng. - All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8b668661.js"></script>
<script src="/assets/js/main.d90a00b9.js"></script>
</body>
</html>